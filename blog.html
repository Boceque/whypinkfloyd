<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Kişisel Blog - Çağlar</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Blog specific styles */
        .blog-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .blog-header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--matrix-green);
            position: relative;
        }
        
        .blog-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: var(--matrix-green);
            box-shadow: var(--glow-shadow);
        }
        
        .blog-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: var(--glow-shadow);
        }
        
        .blog-description {
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
            opacity: 0.8;
        }
        
        /* Matrix özel stil sınıfları */
        .matrix-glow {
            color: var(--matrix-green);
            font-weight: bold;
            text-shadow: var(--glow-shadow);
        }
        
        .matrix-heading {
            color: var(--matrix-green);
            font-weight: bold;
            text-shadow: var(--glow-shadow);
            margin: 20px 0 10px 0;
            font-size: 1.8rem;
            border-bottom: 1px solid rgba(0, 255, 65, 0.3);
            padding-bottom: 8px;
        }
        
        /* Post görüntüleme alanında içerik stillerini güncelleme */
        .post-content h2, .post-excerpt h2 {
            font-size: 1.8rem;
            margin: 40px 0 20px;
            border-bottom: 1px solid rgba(0, 255, 65, 0.3);
            padding-bottom: 10px;
            text-shadow: var(--glow-shadow);
            color: var(--matrix-green);
        }
        
        .post-content h3, .post-excerpt h3 {
            font-size: 1.4rem;
            margin: 30px 0 15px;
            text-shadow: var(--glow-shadow);
            color: var(--matrix-green);
        }
        
        .blog-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
        }
        
        .blog-posts {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .blog-post {
            background-color: rgba(0, 30, 0, 0.5);
            border: 1px solid var(--matrix-green);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .blog-post:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
        }
        
        .post-image {
            height: 200px;
            background-color: var(--matrix-dark-green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--matrix-green);
            border-bottom: 1px solid var(--matrix-green);
            background-image: linear-gradient(to bottom right, rgba(0, 30, 0, 0.8), rgba(0, 60, 0, 0.4));
            position: relative;
            overflow: hidden;
        }
        
        .post-image::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(0, 255, 65, 0.1) 25%, transparent 25%,
                                            transparent 50%, rgba(0, 255, 65, 0.1) 50%,
                                            rgba(0, 255, 65, 0.1) 75%, transparent 75%);
            background-size: 10px 10px;
            opacity: 0.3;
        }
        
        /* Fotoğraf görüntüleme için ek stil */
        .post-image.with-image {
            background-size: cover !important;
            background-position: center !important;
            color: transparent; /* Resim üzerindeki metni gizle */
            text-shadow: none;
            position: relative;
        }
        
        .post-image.with-image::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.5));
            z-index: 1;
        }
        
        .post-content {
            padding: 25px;
        }
        
        .post-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .post-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            transition: color 0.3s ease;
        }
        
        .post-title a {
            color: var(--matrix-green);
            text-decoration: none;
        }
        
        .post-title a:hover {
            text-shadow: var(--glow-shadow);
        }
        
        .post-excerpt {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .read-more {
            display: inline-flex;
            align-items: center;
            color: var(--matrix-green);
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .read-more i {
            margin-left: 5px;
            transition: transform 0.3s ease;
        }
        
        .read-more:hover {
            text-shadow: var(--glow-shadow);
        }
        
        .read-more:hover i {
            transform: translateX(5px);
        }
        
        /* Sidebar */
        .blog-sidebar {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .sidebar-section {
            background-color: rgba(0, 30, 0, 0.5);
            border: 1px solid var(--matrix-green);
            border-radius: 8px;
            padding: 25px;
        }
        
        .sidebar-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .sidebar-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 2px;
            background-color: var(--matrix-green);
            box-shadow: var(--glow-shadow);
        }
        
        .categories-list, .recent-list {
            list-style: none;
        }
        
        .categories-list li, .recent-list li {
            margin-bottom: 12px;
            border-bottom: 1px dashed rgba(0, 255, 65, 0.2);
            padding-bottom: 12px;
        }
        
        .categories-list li:last-child, .recent-list li:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .categories-list a, .recent-list a {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--matrix-green);
            text-decoration: none;
            transition: text-shadow 0.3s ease;
        }
        
        .categories-list a:hover, .recent-list a:hover {
            text-shadow: var(--glow-shadow);
        }
        
        .category-count {
            background-color: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--matrix-green);
            border-radius: 15px;
            padding: 2px 8px;
            font-size: 0.8rem;
        }
        
        .search-form {
            display: flex;
            margin-bottom: 15px;
        }
        
        .search-input {
            flex: 1;
            padding: 10px 15px;
            background-color: rgba(0, 20, 0, 0.7);
            border: 1px solid var(--matrix-green);
            border-right: none;
            border-radius: 4px 0 0 4px;
            color: var(--matrix-green);
        }
        
        .search-input:focus {
            outline: none;
            box-shadow: inset 0 0 5px var(--matrix-green);
        }
        
        .search-button {
            padding: 0 15px;
            background-color: var(--matrix-dark-green);
            border: 1px solid var(--matrix-green);
            border-radius: 0 4px 4px 0;
            color: var(--matrix-green);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-button:hover {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
        }
        
        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .tag {
            display: inline-block;
            padding: 5px 12px;
            background-color: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--matrix-green);
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .tag:hover {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
            box-shadow: var(--glow-shadow);
        }
        
        .login-message {
            text-align: center;
            margin-top: 20px;
            font-style: italic;
            opacity: 0.8;
            display: none;
        }
        
        .new-post-btn {
            display: none;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: var(--matrix-dark-green);
            border: 1px solid var(--matrix-green);
            color: var(--matrix-green);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .new-post-btn:hover {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
            box-shadow: var(--glow-shadow);
        }
        
        @media (max-width: 768px) {
            .blog-grid {
                grid-template-columns: 1fr;
            }
            
            .blog-title {
                font-size: 2rem;
            }
        }
        
        .login-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--matrix-green);
            border-radius: 50%;
            margin-left: 5px;
            box-shadow: 0 0 5px var(--matrix-green);
        }
        
        /* Post Editor Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            position: relative;
            background-color: var(--matrix-black);
            border: 2px solid var(--matrix-green);
            margin: 50px auto;
            padding: 30px;
            width: 90%;
            max-width: 900px;
            border-radius: 8px;
            box-shadow: 0 0 25px rgba(0, 255, 65, 0.3);
            color: var(--matrix-green);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            color: var(--matrix-green);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-close:hover {
            text-shadow: 0 0 10px var(--matrix-green);
            transform: scale(1.1);
        }
        
        .modal-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--matrix-green);
        }
        
        .editor-form {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .form-label {
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .form-input, .form-textarea, .form-select {
            padding: 12px;
            background-color: rgba(0, 20, 0, 0.7);
            border: 1px solid var(--matrix-green);
            border-radius: 4px;
            color: var(--matrix-green);
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
            border-color: var(--matrix-green);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 200px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn {
            padding: 12px 25px;
            background-color: var(--matrix-dark-green);
            border: 1px solid var(--matrix-green);
            border-radius: 4px;
            color: var(--matrix-green);
            cursor: pointer;
            font-weight: bold;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.4);
        }
        
        .btn-primary {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
        }
        
        .btn-primary:hover {
            background-color: var(--matrix-black);
            color: var(--matrix-green);
        }
        
        /* Preview Section */
        .preview-section {
            display: none;
            margin-top: 30px;
            padding: 20px;
            border: 1px dashed var(--matrix-green);
            border-radius: 8px;
            background-color: rgba(0, 30, 0, 0.3);
        }
        
        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .preview-title {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .preview-post {
            background-color: rgba(0, 30, 0, 0.5);
            border: 1px solid var(--matrix-green);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .preview-image {
            height: 200px;
            background-color: var(--matrix-dark-green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-bottom: 1px solid var(--matrix-green);
            background-image: linear-gradient(to bottom right, rgba(0, 30, 0, 0.8), rgba(0, 60, 0, 0.4));
        }
        
        .preview-content {
            padding: 25px;
        }
        
        .preview-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .tag-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .tag-checkbox {
            display: none;
        }
        
        .tag-label {
            display: inline-block;
            padding: 5px 12px;
            background-color: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--matrix-green);
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tag-checkbox:checked + .tag-label {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.4);
        }
        
        /* İçerik Toolbar Stilleri */
        .content-toolbar {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
            background-color: rgba(0, 20, 0, 0.7);
            border: 1px solid var(--matrix-green);
            border-radius: 4px 4px 0 0;
            padding: 8px;
            border-bottom: none;
        }
        
        .toolbar-btn {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            background-color: rgba(0, 40, 0, 0.7);
            border: 1px solid var(--matrix-green);
            border-radius: 4px;
            color: var(--matrix-green);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .toolbar-btn:hover {
            background-color: var(--matrix-green);
            color: var(--matrix-black);
            box-shadow: 0 0 8px rgba(0, 255, 65, 0.4);
        }
        
        .form-textarea {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
        
        .message-box {
            display: none;
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            text-align: center;
        }
        
        .success-message {
            background-color: rgba(0, 100, 0, 0.2);
            border: 1px solid var(--matrix-green);
            color: var(--matrix-green);
        }
    </style>
</head>
<body>
    <canvas id="matrixCanvas"></canvas>
    
    <div class="container">
        <nav>
            <div class="logo">Kişisel Blog</div>
            <ul class="nav-links">
                <li><a href="index.html">Ana Sayfa</a></li>
                <li><a href="hakkimda.html">Hakkımda</a></li>
                <li><a href="blog.html" class="active">Blog</a></li>
                <li><a href="tech-news.html">Tech&News</a></li>
                <li><a href="bilim-felsefe.html">Bilim&Felsefe</a></li>
                <li><a href="iletisim.html">İletişim</a></li>
                <li><a href="admin.html" class="admin-link">Admin</a></li>
            </ul>
        </nav>

        <div class="blog-container">
            <div class="blog-header">
                <h1 class="blog-title">Kişisel Blog</h1>
                <p class="blog-subtitle">Düşünceler, Fikirler ve Teknoloji Üzerine</p>
            </div>
            
            <div id="newPostBtn" class="new-post-btn">
                <i class="fas fa-plus"></i> Yeni Yazı Ekle
            </div>
            
            <div class="blog-grid">
                <div class="blog-posts">
                    <!-- Empty blog state message -->
                    <div class="empty-blog-message" style="text-align: center; padding: 50px 20px; background-color: rgba(0, 30, 0, 0.5); border: 1px solid var(--matrix-green); border-radius: 8px;">
                        <i class="fas fa-pen-fancy" style="font-size: 3rem; margin-bottom: 20px; color: var(--matrix-green);"></i>
                        <h2>Henüz blog yazısı bulunmamaktadır</h2>
                        <p style="margin-top: 15px; opacity: 0.8;">Blogunuza yazı eklemek için giriş yapın ve "Yeni Yazı Ekle" düğmesini kullanın.</p>
                    </div>
                </div>
                
                <div class="blog-sidebar">
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Ara</h3>
                        <form class="search-form">
                            <input type="text" class="search-input" placeholder="Blog'da ara...">
                            <button type="submit" class="search-button">
                                <i class="fas fa-search"></i>
                            </button>
                        </form>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Kategoriler</h3>
                        <ul class="categories-list">
                            <li>
                                <a href="#">
                                    <span>Felsefe</span>
                                    <span class="category-count">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>Teknoloji</span>
                                    <span class="category-count">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>Yapay Zeka</span>
                                    <span class="category-count">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>Web Geliştirme</span>
                                    <span class="category-count">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>Dijital Yaşam</span>
                                    <span class="category-count">0</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Son Yazılar</h3>
                        <p style="opacity: 0.8; font-style: italic;">Henüz blog yazısı bulunmamaktadır.</p>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Etiketler</h3>
                        <div class="tag-cloud">
                            <a href="#" class="tag">Matrix</a>
                            <a href="#" class="tag">Felsefe</a>
                            <a href="#" class="tag">Teknoloji</a>
                            <a href="#" class="tag">Yapay Zeka</a>
                            <a href="#" class="tag">Web</a>
                            <a href="#" class="tag">Kodlama</a>
                            <a href="#" class="tag">Dijital</a>
                            <a href="#" class="tag">Bilinç</a>
                            <a href="#" class="tag">Anime</a>
                            <a href="#" class="tag">Psikoloji</a>
                            <a href="#" class="tag">Gerçeklik</a>
                            <a href="#" class="tag">Varoluş</a>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <p id="loginMessage" class="login-message">Admin girişi yaptınız. Blog yazılarını yönetebilirsiniz.</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 Kişisel Blog - Çağlar. Tüm Hakları Saklıdır.</p>
        </footer>
    </div>
    
    <!-- Post Editor Modal -->
    <div id="postEditorModal" class="modal">
        <div class="modal-content">
            <span class="modal-close"><i class="fas fa-times"></i></span>
            <div class="modal-header">
                <h2>Yeni Blog Yazısı Ekle</h2>
            </div>
            <form id="postEditorForm" class="editor-form">
                <div class="form-group">
                    <label for="postTitle" class="form-label">Başlık</label>
                    <input type="text" id="postTitle" class="form-input" placeholder="Yazınızın başlığını giriniz..." required>
                </div>
                
                <div class="form-group">
                    <label for="postCategory" class="form-label">Kategori</label>
                    <select id="postCategory" class="form-select" required>
                        <option value="">Kategori seçiniz...</option>
                        <option value="Felsefe">Felsefe</option>
                        <option value="Teknoloji">Teknoloji</option>
                        <option value="Yapay Zeka">Yapay Zeka</option>
                        <option value="Web Geliştirme">Web Geliştirme</option>
                        <option value="Dijital Yaşam">Dijital Yaşam</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="postImageUrl" class="form-label">Fotoğraf URL</label>
                    <input type="url" id="postImageUrl" class="form-input" placeholder="Fotoğraf URL'sini girin (örn: https://example.com/image.jpg)">
                    <small style="display: block; margin-top: 5px; opacity: 0.7;">Fotoğraf eklemek isteğe bağlıdır. URL boş bırakılırsa başlık gösterilecektir.</small>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Etiketler</label>
                    <div class="tag-selector">
                        <input type="checkbox" id="tag-matrix" class="tag-checkbox" value="Matrix">
                        <label for="tag-matrix" class="tag-label">Matrix</label>
                        
                        <input type="checkbox" id="tag-felsefe" class="tag-checkbox" value="Felsefe">
                        <label for="tag-felsefe" class="tag-label">Felsefe</label>
                        
                        <input type="checkbox" id="tag-teknoloji" class="tag-checkbox" value="Teknoloji">
                        <label for="tag-teknoloji" class="tag-label">Teknoloji</label>
                        
                        <input type="checkbox" id="tag-ai" class="tag-checkbox" value="Yapay Zeka">
                        <label for="tag-ai" class="tag-label">Yapay Zeka</label>
                        
                        <input type="checkbox" id="tag-web" class="tag-checkbox" value="Web">
                        <label for="tag-web" class="tag-label">Web</label>
                        
                        <input type="checkbox" id="tag-coding" class="tag-checkbox" value="Kodlama">
                        <label for="tag-coding" class="tag-label">Kodlama</label>
                        
                        <input type="checkbox" id="tag-digital" class="tag-checkbox" value="Dijital">
                        <label for="tag-digital" class="tag-label">Dijital</label>
                        
                        <input type="checkbox" id="tag-consciousness" class="tag-checkbox" value="Bilinç">
                        <label for="tag-consciousness" class="tag-label">Bilinç</label>
                        
                        <input type="checkbox" id="tag-anime" class="tag-checkbox" value="Anime">
                        <label for="tag-anime" class="tag-label">Anime</label>
                        
                        <input type="checkbox" id="tag-psikoloji" class="tag-checkbox" value="Psikoloji">
                        <label for="tag-psikoloji" class="tag-label">Psikoloji</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="postContent" class="form-label">İçerik</label>
                    <div class="content-toolbar">
                        <button type="button" id="addImageBtn" class="toolbar-btn">
                            <i class="fas fa-image"></i> Fotoğraf Ekle
                        </button>
                        <button type="button" id="imageHelpBtn" class="toolbar-btn" style="background-color: rgba(0,40,20,0.5); margin-left: auto;">
                            <i class="fas fa-question-circle"></i> Nasıl Fotoğraf Eklerim?
                        </button>
                    </div>
                    <textarea id="postContent" class="form-textarea" placeholder="Yazınızın içeriğini giriniz..." required></textarea>
                    <small style="display: block; margin-top: 5px; opacity: 0.7;">HTML kullanabilirsiniz. Örneğin: <code>&lt;img src="https://ornek.com/resim.jpg" style="max-width:100%; margin:15px 0;"&gt;</code> şeklinde resim ekleyebilirsiniz.</small>
                </div>
                
                <div class="button-group">
                    <button type="button" id="previewBtn" class="btn">Önizleme</button>
                    <button type="submit" id="saveBtn" class="btn btn-primary">Kaydet</button>
                </div>
            </form>
            
            <div id="previewSection" class="preview-section">
                <div class="preview-header">
                    <h3 class="preview-title">Yazı Önizlemesi</h3>
                    <button type="button" id="editBtn" class="btn">Düzenlemeye Dön</button>
                </div>
                
                <article id="previewPost" class="preview-post">
                    <div id="previewImage" class="preview-image"></div>
                    <div class="preview-content">
                        <div class="preview-meta">
                            <span><i class="far fa-calendar-alt"></i> <span id="previewDate"></span></span>
                            <span><i class="far fa-user"></i> Çağlar</span>
                        </div>
                        <h2 id="previewTitle" class="post-title"></h2>
                        <div id="previewContent" class="post-excerpt"></div>
                    </div>
                </article>
            </div>
            
            <div id="successMessage" class="message-box success-message">
                <p><i class="fas fa-check-circle"></i> Yazınız başarıyla kaydedildi. Ana sayfaya yönlendiriliyorsunuz...</p>
            </div>
        </div>
    </div>
    
    <!-- Görsel URL Yardım Modalı -->
    <div id="imageHelpModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="modal-close"><i class="fas fa-times"></i></span>
            <div class="modal-header">
                <h2>Fotoğraf URL'si Nasıl Alınır?</h2>
            </div>
            <div style="padding: 15px;">
                <h3>Imgur'dan Resim URL'si Almak</h3>
                <ol style="margin-left: 20px; line-height: 1.6;">
                    <li>Imgur sitesine giriş yapın (https://imgur.com)</li>
                    <li>"New Post" veya "+" butonuna tıklayarak resminizi yükleyin</li>
                    <li>Yüklenen resme sağ tıklayın ve "Copy Image Address/Resim adresini kopyala" seçeneğine tıklayın</li>
                    <li>Kopyalanan URL şöyle görünmelidir: <code>https://i.imgur.com/XXXX.jpg</code></li>
                    <li><strong>Not:</strong> Albüm linki değil, doğrudan resim linki kullanmalısınız</li>
                </ol>
                
                <h3 style="margin-top: 20px;">Doğru ve Yanlış URL Örnekleri</h3>
                <div style="background-color: rgba(0, 30, 0, 0.5); border: 1px solid var(--matrix-green); padding: 15px; border-radius: 4px; margin: 10px 0;">
                    <p><strong>✅ Doğru Formatlar:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.6;">
                        <li><code>https://i.imgur.com/abcdefg.jpg</code></li>
                        <li><code>https://imgur.com/abcdefg</code></li>
                        <li><code>https://example.com/images/photo.png</code></li>
                    </ul>
                    
                    <p><strong>❌ Yanlış Formatlar:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.6;">
                        <li><code>https://imgur.com/a/XXXXX</code> (Bu bir albüm linki)</li>
                        <li><code>https://imgur.com/gallery/XXXXX</code> (Bu bir galeri linki)</li>
                    </ul>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button id="closeImageHelpBtn" class="btn" style="min-width: 150px;">Anladım</button>
                </div>
            </div>
        </div>
    </div>

    <script src="matrix.js"></script>
    <script>
        // Login status check - Kullanıcı girişi kontrolü
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in (using localStorage for demo)
            const isLoggedIn = localStorage.getItem('matrixBlogLoggedIn');
            const adminLink = document.querySelector('.admin-link');
            
            if (isLoggedIn === 'true') {
                // Show login message and new post button
                document.getElementById('loginMessage').style.display = 'block';
                document.getElementById('newPostBtn').style.display = 'block';
                
                // Update admin link
                adminLink.innerHTML = '<i class="fas fa-user-check"></i> Admin <span class="login-indicator"></span>';
                adminLink.style.backgroundColor = 'var(--matrix-dark-green)';
                adminLink.style.color = 'var(--matrix-green)';
                adminLink.href = 'admin-dashboard.html'; // Direct to dashboard instead of login
                
                // FIX: Bir defaya mahsus eskiden kaydedilmiş blog yazılarındaki satır sonlarını düzelt
                fixOldBlogPostLineBreaks();
            } else {
                // If not logged in, ensure admin link points to login page
                adminLink.href = 'admin.html';
                
                // Also hide new post button when not logged in
                document.getElementById('newPostBtn').style.display = 'none';
            }
            
            // Force admin link to always check login status before navigation
            adminLink.addEventListener('click', function(event) {
                event.preventDefault(); // Always prevent default navigation
                
                // Check login status
                const currentLoginStatus = localStorage.getItem('matrixBlogLoggedIn');
                
                if (currentLoginStatus === 'true') {
                    window.location.href = 'admin-dashboard.html';
                } else {
                    window.location.href = 'admin.html';
                }
            });
            
            // Remove the Matrix demo post and fake comments
            cleanupDemoContent();
            
            // Update site name from settings if available
            const savedSettings = localStorage.getItem('matrixBlogSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                if (settings.siteName) {
                    document.title = `Blog | ${settings.siteName.split(' | ')[0]}`;
                    document.querySelector('.logo').textContent = settings.siteName.split(' | ')[0];
                }
            }
            
            // Load contact info from localStorage if available
            const savedContactInfo = localStorage.getItem('matrixBlogContactInfo');
            if (savedContactInfo) {
                const contactInfo = JSON.parse(savedContactInfo);
                
                if (contactInfo.name) {
                    // Update author name in preview template
                    const authorMeta = document.querySelector('.preview-meta span:nth-child(2)');
                    if (authorMeta) {
                        authorMeta.innerHTML = `<i class="far fa-user"></i> ${contactInfo.name}`;
                    }
                    
                    // Update page title
                    if (!savedSettings) {
                        document.title = `Blog | ${contactInfo.name}`;
                    }
                    
                    // Update footer copyright
                    const footerCopyright = document.querySelector('footer p:last-child');
                    if (footerCopyright) {
                        footerCopyright.textContent = `© 2024 Kişisel Blog - ${contactInfo.name}. Tüm Hakları Saklıdır.`;
                    }
                }
            }
            
            // Load blog posts from localStorage
            loadBlogPosts();
            
            // Post Editor Modal functionality
            const modal = document.getElementById('postEditorModal');
            const modalClose = document.querySelector('.modal-close');
            const newPostBtn = document.getElementById('newPostBtn');
            const previewBtn = document.getElementById('previewBtn');
            const editBtn = document.getElementById('editBtn');
            const saveBtn = document.getElementById('saveBtn');
            const form = document.getElementById('postEditorForm');
            const previewSection = document.getElementById('previewSection');
            const successMessage = document.getElementById('successMessage');
            
            // Get current date in Turkish format
            const now = new Date();
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            const currentDate = now.toLocaleDateString('tr-TR', options);
            document.getElementById('previewDate').textContent = currentDate;
            
            // New post button click event
            newPostBtn.addEventListener('click', function() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling while modal is open
            });
            
            // Close modal
            modalClose.addEventListener('click', function() {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto'; // Re-enable scrolling
                resetForm();
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    resetForm();
                }
            });
            
            // Preview button
            previewBtn.addEventListener('click', function() {
                const title = document.getElementById('postTitle').value;
                const content = document.getElementById('postContent').value;
                const category = document.getElementById('postCategory').value;
                const imageUrl = document.getElementById('postImageUrl').value;
                
                if (!title || !content || !category) {
                    alert('Lütfen tüm alanları doldurunuz!');
                    return;
                }
                
                // Kapak fotoğrafı URL'sini işle
                let processedImageUrl = null;
                if (imageUrl) {
                    processedImageUrl = processImageUrl(imageUrl);
                    console.log("Önizleme için işlenen kapak URL'si:", processedImageUrl);
                }
                
                // Fill preview elements
                const previewImage = document.getElementById('previewImage');
                if (processedImageUrl) {
                    previewImage.innerHTML = ''; // Clear text content
                    previewImage.style.backgroundImage = `url('${processedImageUrl}')`;
                    previewImage.classList.add('with-image');
                } else {
                    previewImage.textContent = title;
                    previewImage.style.backgroundImage = '';
                    previewImage.classList.remove('with-image');
                }
                
                document.getElementById('previewTitle').textContent = title;
                document.getElementById('previewContent').innerHTML = content;
                
                // Show preview, hide form
                form.style.display = 'none';
                previewSection.style.display = 'block';
            });
            
            // Edit button
            editBtn.addEventListener('click', function() {
                // Hide preview, show form
                previewSection.style.display = 'none';
                form.style.display = 'grid';
            });
            
            // Function to load blog posts from localStorage
            function loadBlogPosts() {
                // Debug için localStorage içeriğini konsola yazdır
                console.log("--------- BLOG YÜKLENİYOR ---------");
                console.log("localStorage içeriği:", localStorage);
                
                // Get blog posts container
                const blogPostsContainer = document.querySelector('.blog-posts');
                const emptyBlogMessage = document.querySelector('.empty-blog-message');
                
                // Get blog posts from localStorage
                let blogPosts = localStorage.getItem('matrixBlogPosts');
                console.log("Ham blog verileri:", blogPosts);
                
                // If no posts or empty array, show empty message and return
                if (!blogPosts || JSON.parse(blogPosts).length === 0) {
                    console.log("Blog yazısı bulunamadı, boş mesaj gösteriliyor");
                    if (emptyBlogMessage) {
                        emptyBlogMessage.style.display = 'block';
                    }
                    return;
                }
                
                try {
                    // Parse the blog posts
                    blogPosts = JSON.parse(blogPosts);
                    console.log("Ayrıştırılmış blog yazıları:", blogPosts);
                    
                    // Sort posts by timestamp (newest first)
                    blogPosts.sort((a, b) => b.timestamp - a.timestamp);
                    
                    // Hide empty message if it exists
                    if (emptyBlogMessage) {
                        emptyBlogMessage.style.display = 'none';
                    }
                    
                    // Clear any existing posts
                    blogPostsContainer.innerHTML = '';
                    
                    // Create and add each post to the page
                    blogPosts.forEach(post => {
                        console.log("İşlenen yazı:", post);
                        
                        const postElement = document.createElement('article');
                        postElement.className = 'blog-post';
                        
                        // Fotoğraf gösterimi için HTML oluşturma
                        let postImageHTML;
                        if (post.imageUrl) {
                            console.log("Fotoğraf URL'si bulundu:", post.imageUrl);
                            postImageHTML = `<div class="post-image with-image" style="background-image: url('${post.imageUrl}');"></div>`;
                        } else {
                            console.log("Fotoğraf URL'si yok, başlık gösteriliyor");
                            postImageHTML = `<div class="post-image">${post.title}</div>`;
                        }
                        
                        postElement.innerHTML = `
                            ${postImageHTML}
                            <div class="post-content">
                                <div class="post-meta">
                                    <span><i class="far fa-calendar-alt"></i> ${post.date}</span>
                                    <span><i class="far fa-user"></i> ${post.author}</span>
                                </div>
                                <h2 class="post-title">
                                    <a href="post.html?id=${post.id}">${post.title}</a>
                                </h2>
                                <div class="post-excerpt">
                                    ${post.content.length > 200 
                                        ? `${post.content.substring(0, 200).replace(/<[^>]*>/g, '')}...` 
                                        : post.content}
                                </div>
                                <a href="post.html?id=${post.id}" class="read-more">Devamını Oku <i class="fas fa-arrow-right"></i></a>
                            </div>
                        `;
                        
                        blogPostsContainer.appendChild(postElement);
                    });
                    
                    // Update category counts
                    updateCategoryCounts(blogPosts);
                    
                    // Update recent posts list
                    updateRecentPostsList(blogPosts);
                    
                    console.log("Blog yazıları başarıyla yüklendi");
                } catch (error) {
                    console.error("Blog yazılarını yüklerken hata:", error);
                    // Hata durumunda boş mesajı göster
                    if (emptyBlogMessage) {
                        emptyBlogMessage.style.display = 'block';
                    }
                }
            }
            
            // Function to update category counts
            function updateCategoryCounts(blogPosts) {
                const categoryList = document.querySelector('.categories-list');
                if (!categoryList) return;
                
                const categories = {};
                
                // Count posts per category
                blogPosts.forEach(post => {
                    if (post.category) {
                        if (categories[post.category]) {
                            categories[post.category]++;
                        } else {
                            categories[post.category] = 1;
                        }
                    }
                });
                
                // Update category counts in sidebar
                const categoryItems = categoryList.querySelectorAll('a');
                categoryItems.forEach(item => {
                    const categoryName = item.querySelector('span:first-child');
                    if (categoryName) {
                        const count = categories[categoryName.textContent] || 0;
                        const countElement = item.querySelector('.category-count');
                        if (countElement) {
                            countElement.textContent = count;
                        }
                    }
                });
            }
            
            // Function to update recent posts list
            function updateRecentPostsList(blogPosts) {
                const recentListSection = document.querySelector('.sidebar-section:nth-of-type(3)');
                if (!recentListSection) return;
                
                // Remove existing message or list
                recentListSection.querySelectorAll('p, ul').forEach(el => el.remove());
                
                if (blogPosts.length === 0) {
                    // Show "no posts" message
                    const emptyMessage = document.createElement('p');
                    emptyMessage.style.opacity = '0.8';
                    emptyMessage.style.fontStyle = 'italic';
                    emptyMessage.textContent = 'Henüz blog yazısı bulunmamaktadır.';
                    recentListSection.appendChild(emptyMessage);
                    return;
                }
                
                // Create recent posts list
                const recentList = document.createElement('ul');
                recentList.className = 'recent-list';
                
                // Add up to 5 most recent posts
                blogPosts.slice(0, 5).forEach(post => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<a href="post.html?id=${post.id}">${post.title}</a>`;
                    recentList.appendChild(listItem);
                });
                
                recentListSection.appendChild(recentList);
            }
            
            // Save button
            form.addEventListener('submit', function(event) {
                event.preventDefault();
                console.log("--------- BLOG YAZISI KAYDETME ---------");
                
                // Simulate saving
                form.style.display = 'none';
                previewSection.style.display = 'none';
                successMessage.style.display = 'block';
                
                // Add the new blog post to the page
                setTimeout(function() {
                    try {
                        const title = document.getElementById('postTitle').value;
                        const content = document.getElementById('postContent').value;
                        const category = document.getElementById('postCategory').value;
                        const imageUrl = document.getElementById('postImageUrl').value;
                        
                        console.log("Girilen veriler:", {
                            title: title,
                            content: content.replace(/\n/g, '<br>'), // Satır sonlarını <br> etiketine dönüştür
                            category: category,
                            imageUrl: imageUrl
                        });
                        
                        // Kapak fotoğrafı URL'sini işle
                        let processedImageUrl = imageUrl;
                        if (imageUrl) {
                            processedImageUrl = processImageUrl(imageUrl);
                            if (!processedImageUrl) {
                                console.log("Kapak fotoğrafı URL'si geçersiz, kapak fotoğrafı kullanılmayacak");
                                processedImageUrl = '';
                            }
                        }
                        
                        // Get tags
                        const selectedTags = [];
                        document.querySelectorAll('.tag-checkbox:checked').forEach(checkbox => {
                            selectedTags.push(checkbox.value);
                        });
                        
                        // Create blog post object
                        const newBlogPost = {
                            id: Date.now().toString(),
                            title: title,
                            content: content.replace(/\n/g, '<br>'), // Satır sonlarını <br> etiketine dönüştür
                            category: category,
                            tags: selectedTags,
                            date: currentDate,
                            timestamp: Date.now(),
                            author: 'Çağlar',
                            imageUrl: processedImageUrl // İşlenmiş URL kullanılıyor
                        };
                        
                        console.log("Oluşturulan blog yazısı objesi:", newBlogPost);
                        
                        // Get existing blog posts from localStorage or create new array
                        let blogPosts = localStorage.getItem('matrixBlogPosts');
                        console.log("Mevcut blogPosts verisi:", blogPosts);
                        
                        if (blogPosts) {
                            blogPosts = JSON.parse(blogPosts);
                        } else {
                            blogPosts = [];
                        }
                        
                        // Add new post to array
                        blogPosts.push(newBlogPost);
                        
                        // Save updated posts back to localStorage
                        const saveData = JSON.stringify(blogPosts);
                        localStorage.setItem('matrixBlogPosts', saveData);
                        console.log("localStorage'a kaydedilen veri:", saveData);
                        
                        // Create new post element
                        const newPost = document.createElement('article');
                        newPost.className = 'blog-post';
                        
                        // Fotoğraf gösterimi için HTML oluşturma
                        let postImageHTML;
                        if (newBlogPost.imageUrl) {
                            console.log("Yazı kapak fotoğrafı ekleniyor:", newBlogPost.imageUrl);
                            postImageHTML = `<div class="post-image with-image" style="background-image: url('${newBlogPost.imageUrl}');"></div>`;
                        } else {
                            console.log("Kapak fotoğrafı yok, başlık gösteriliyor");
                            postImageHTML = `<div class="post-image">${title}</div>`;
                        }
                        
                        newPost.innerHTML = `
                            ${postImageHTML}
                            <div class="post-content">
                                <div class="post-meta">
                                    <span><i class="far fa-calendar-alt"></i> ${currentDate}</span>
                                    <span><i class="far fa-user"></i> ${newBlogPost.author}</span>
                                </div>
                                <h2 class="post-title">
                                    <a href="post.html?id=${newBlogPost.id}">${title}</a>
                                </h2>
                                <div class="post-excerpt">
                                    ${content.length > 200 
                                        ? `${content.substring(0, 200).replace(/<[^>]*>/g, '')}...` 
                                        : content.replace(/\n/g, '<br>')}
                                </div>
                                <a href="post.html?id=${newBlogPost.id}" class="read-more">Devamını Oku <i class="fas fa-arrow-right"></i></a>
                            </div>
                        `;
                        
                        // Check if there's an empty blog message and remove it
                        const emptyBlogMessage = document.querySelector('.empty-blog-message');
                        if (emptyBlogMessage) {
                            emptyBlogMessage.remove();
                        }
                        
                        // Add the post to the page
                        const blogPostsContainer = document.querySelector('.blog-posts');
                        blogPostsContainer.insertBefore(newPost, blogPostsContainer.firstChild);
                        
                        // Başarılı kayıt sonrası
                        console.log("Blog yazısı başarıyla kaydedildi ve sayfaya eklendi");
                        
                        // Update categories
                        updateCategoryCounts(blogPosts);
                        
                        // Update recent posts list
                        updateRecentPostsList(blogPosts);
                    } catch (error) {
                        console.error("Blog yazısı kaydedilirken hata:", error);
                        alert("Blog yazısı kaydedilirken bir hata oluştu. Lütfen tekrar deneyin.");
                    }
                    
                    // Close modal
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                    resetForm();
                }, 2000);
            });
            
            // Reset form
            function resetForm() {
                form.reset();
                form.style.display = 'grid';
                previewSection.style.display = 'none';
                successMessage.style.display = 'none';
            }
            
            // Fotoğraf ekleme modal ve fonksiyonu
            const addImageBtn = document.getElementById('addImageBtn');
            const imageHelpBtn = document.getElementById('imageHelpBtn');
            const imageHelpModal = document.getElementById('imageHelpModal');
            const closeImageHelpBtn = document.getElementById('closeImageHelpBtn');
            
            // Fotoğraf yardım modalı kontrolleri
            imageHelpBtn.addEventListener('click', function() {
                imageHelpModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            });
            
            closeImageHelpBtn.addEventListener('click', function() {
                imageHelpModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Yardım modalını kapatma (×'e tıklama)
            imageHelpModal.querySelector('.modal-close').addEventListener('click', function() {
                imageHelpModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Yardım modalının dışına tıklayınca kapatma
            window.addEventListener('click', function(event) {
                if (event.target === imageHelpModal) {
                    imageHelpModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
            
            addImageBtn.addEventListener('click', function() {
                console.log("--------- FOTOĞRAF EKLEME ---------");
                const imageUrl = prompt('Lütfen fotoğraf URL\'sini giriniz:', 'https://i.imgur.com/');
                console.log("Girilen URL:", imageUrl);
                
                if (!imageUrl) {
                    console.log("Kullanıcı fotoğraf eklemeyi iptal etti");
                    return; // Kullanıcı iptal ettiyse
                }
                
                // URL'yi düzelt ve doğrula
                const processedUrl = processImageUrl(imageUrl);
                
                if (!processedUrl) {
                    return; // URL doğrulama başarısız
                }
                
                try {
                    // Fotoğrafı içeriğe ekle
                    const contentTextarea = document.getElementById('postContent');
                    
                    // İmleç konumuna göre ekle
                    const cursorPos = contentTextarea.selectionStart;
                    const textBefore = contentTextarea.value.substring(0, cursorPos);
                    const textAfter = contentTextarea.value.substring(cursorPos);
                    
                    // HTML kod ekle
                    const imgTag = `<img src="${processedUrl}" alt="Blog görseli" style="max-width:100%; margin:15px 0;">`;
                    console.log("Eklenecek görsel kodu:", imgTag);
                    
                    // Yeni içeriği ayarla
                    contentTextarea.value = textBefore + imgTag + textAfter;
                    console.log("Fotoğraf içeriğe başarıyla eklendi");
                    
                    // Textarea'ya odaklan ve imleci tag'in sonuna koy
                    contentTextarea.focus();
                    contentTextarea.selectionStart = cursorPos + imgTag.length;
                    contentTextarea.selectionEnd = cursorPos + imgTag.length;
                } catch (error) {
                    console.error("Fotoğraf eklerken hata:", error);
                    alert("Fotoğraf eklenirken bir hata oluştu. Lütfen tekrar deneyin.");
                }
            });
            
            // URL işleme ve doğrulama fonksiyonu
            function processImageUrl(url) {
                console.log("URL işleniyor:", url);
                
                if (!url) return null;
                
                // URL'yi temizle (başındaki ve sonundaki boşlukları sil)
                url = url.trim();
                
                // Boş URL kontrolü
                if (url === '' || url === 'https://i.imgur.com/') {
                    console.log("Boş URL");
                    return null;
                }
                
                // URL formatını düzelt
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    url = 'https://' + url;
                    console.log("URL'ye protokol eklendi:", url);
                }
                
                // Basit URL doğrulama
                const imageExtPattern = /\.(jpg|jpeg|png|gif|webp|svg)(\?.*)?$/i;
                
                // Imgur için özel düzeltme
                if (url.includes('imgur.com/')) {
                    // Imgur albüm ve galeri linklerini reddet
                    if (url.includes('/a/') || url.includes('/gallery/')) {
                        console.log("Imgur albüm/galeri linki tespit edildi, reddediliyor");
                        alert('Bu bir Imgur albüm/galeri linki. Lütfen tek bir görsel linki kullanın.\n\nDoğru format: https://i.imgur.com/XXXX.jpg veya https://imgur.com/XXXX');
                        return null;
                    }
                    
                    try {
                        // URL'den ID'yi çıkartmaya çalış
                        const urlObj = new URL(url);
                        const pathParts = urlObj.pathname.split('/').filter(part => part.length > 0);
                        
                        if (pathParts.length === 0) {
                            console.log("Geçersiz Imgur URL'si: ID bulunamadı");
                            return null;
                        }
                        
                        // Son parçayı al ve uzantıyı çıkar
                        let imgurId = pathParts[pathParts.length - 1].split('.')[0];
                        
                        // ID'den fazlalık karakterleri temizle
                        imgurId = imgurId.replace(/[^a-zA-Z0-9]/g, '');
                        
                        if (imgurId.length < 5 || imgurId.length > 10) {
                            console.log("Geçersiz Imgur ID uzunluğu:", imgurId);
                            return null;
                        }
                        
                        // Düzeltilmiş i.imgur.com formatında URL döndür
                        const correctedUrl = `https://i.imgur.com/${imgurId}.jpg`;
                        console.log("Düzeltilen URL:", correctedUrl);
                        return correctedUrl;
                    } catch (error) {
                        console.error("Imgur URL'sini işlerken hata:", error);
                        return null;
                    }
                }
                
                // Diğer resim siteleri için destek (örneğin: gyazo, tenor, giphy vs.)
                const supportedImageSites = ['gyazo.com', 'tenor.com', 'giphy.com', 'gfycat.com', 'postimg.cc', 'imgbb.com'];
                
                for (const site of supportedImageSites) {
                    if (url.includes(site)) {
                        console.log(`${site} URL'si tespit edildi, doğrudan kullanılıyor`);
                        return url;
                    }
                }
                
                // Imgur dışındaki URL'ler için
                if (imageExtPattern.test(url)) {
                    console.log("Standart görsel URL'si doğrulandı:", url);
                    return url; // URL geçerli bir resim formatına sahip
                }
                
                console.log("Geçersiz görsel URL'si:", url);
                alert('Lütfen geçerli bir resim URL\'si giriniz. Örneğin:\n\n• https://i.imgur.com/abcde.jpg\n• https://example.com/resim.png');
                return null;
            }
            
            // Function to clean up demo content
            function cleanupDemoContent() {
                // Remove Matrix post from localStorage if it exists
                let blogPosts = JSON.parse(localStorage.getItem('matrixBlogPosts') || '[]');
                
                if (blogPosts.length > 0) {
                    // Filter out any posts with "Matrix" or "Platon" or "Descartes" in the title
                    const originalCount = blogPosts.length;
                    blogPosts = blogPosts.filter(post => {
                        return !(
                            post.title.includes('Matrix') || 
                            post.title.includes('Platon') || 
                            post.title.includes('Descartes') ||
                            post.title.includes('Felsefi Arka Planı')
                        );
                    });
                    
                    // If posts were removed, save the filtered array back to localStorage
                    if (blogPosts.length < originalCount) {
                        localStorage.setItem('matrixBlogPosts', JSON.stringify(blogPosts));
                        console.log('Demo Matrix blog post removed');
                    }
                }
                
                // Remove any demo comments
                let commentData = JSON.parse(localStorage.getItem('blogComments') || '{}');
                
                // Clear all comments since they were all demo comments
                localStorage.setItem('blogComments', JSON.stringify({}));
                console.log('All demo comments removed');
            }
            
            // Function to fix line breaks in old blog posts
            function fixOldBlogPostLineBreaks() {
                // Check if we've already fixed the line breaks
                const lineBreaksFixed = localStorage.getItem('matrixBlogLineBreaksFixed');
                if (lineBreaksFixed === 'true') {
                    return; // Düzeltme daha önce yapılmış, tekrar yapmaya gerek yok
                }
                
                console.log("--------- ESKİ BLOG YAZILARININ SATIR SONLARI DÜZELTİLİYOR ---------");
                
                // Get existing blog posts
                let blogPosts = localStorage.getItem('matrixBlogPosts');
                if (!blogPosts) return;
                
                try {
                    blogPosts = JSON.parse(blogPosts);
                    let hasChanges = false;
                    
                    // Check each post content for line breaks that aren't followed by <br>
                    blogPosts.forEach(post => {
                        // Bugları önlemek için: Eğer içerik HTML içeriyorsa ve <br> içermiyorsa
                        // Bu, içerikte satır sonları olduğu halde <br> olmadığını gösterir
                        if (post.content && post.content.includes('\n') && !post.content.includes('<br>')) {
                            console.log(`"${post.title}" başlıklı yazıda satır sonları düzeltiliyor...`);
                            post.content = post.content.replace(/\n/g, '<br>');
                            hasChanges = true;
                        }
                    });
                    
                    // If any changes were made, save the updated posts
                    if (hasChanges) {
                        localStorage.setItem('matrixBlogPosts', JSON.stringify(blogPosts));
                        console.log("Tüm eski yazıların satır sonları düzeltildi ve kaydedildi!");
                        alert("Eski blog yazılarınızdaki satır sonu sorunları düzeltildi. Tüm yazılarınız artık paragraf aralıklarıyla görüntülenecektir.");
                    } else {
                        console.log("Düzeltilecek satır sonu bulunmadı.");
                    }
                    
                    // Mark as fixed so we don't do this again
                    localStorage.setItem('matrixBlogLineBreaksFixed', 'true');
                    
                } catch (error) {
                    console.error("Eski yazıların satır sonları düzeltilirken hata:", error);
                }
            }
        });
    </script>
</body>
</html> 
